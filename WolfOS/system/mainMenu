--[[WolfOS is the intellectual property of James Chapman (toxic.wolf@hotmail.co.uk).
Please ask for permission before attempting to redistribute any code relating to WolfOS IN ANY FORM.]]--

local bMenuLoop = true
local sUser = WDM.readSystemTemp("current_user")
while bMenuLoop == true do
	local tChoices = {"Programs", "Utilities", "Control Panel", "\\", "Logout", "\\", "Reboot", "Shutdown"}
	local tActions = {
		["Programs"] = function() bMenuLoop = false os.run({}, WDM.getSystemDir() .. "programMenu") end,
		["Utilities"] = function() bMenuLoop = false os.run({}, WDM.getSystemDir() .. "utilityMenu") end,
		["Control Panel"] = function() bMenuLoop = false os.run({}, WDM.getSystemDir() .. "controlPanel") end,
		["Logout"] = function() bMenuLoop = false WUI.logout() end,
		["Reboot"] = function() bMenuLoop = false WUI.reboot() end,
		["Shutdown"] = function() bMenuLoop = false WUI.shutdown() end
	}
	local sSelection = WUI.menu(tChoices, "Welcome '" .. sUser .. "'!", "Main Menu")
	tActions[sSelection]()
end